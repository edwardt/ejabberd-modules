

all: depends builddeps compile

depends:
	./rebar -vvv get-deps
	./rebar -vvv update-deps

builddeps:
	@(cd ./deps/edown/; make all)
	@(cd ./deps/goldrush; make all)
	@(cd ./deps/lager; make all)
<<<<<<< HEAD
	@(cd ./deps/parse_trans; make all)
	@(cd ./deps/mochiweb; make all)
 	@(cd ./deps/webmachine; make all)
=======
	@(cd ./deps/mochiweb; make all)
>>>>>>> 4f39ca95481c95d01db4bd4b06f352519f71e724


compile:
	./rebar -vvv compile

generate:
	./copy_all_deps_ebeam.sh
	\rm -f ebeam.tar.gz
	\rm -rf ejabberd_auth_spark_v_10
	tar -cvf ebeam.tar.gz ./ebeam
	tar -cvf conf.tar.gz ./conf




clean:
	./rebar clean



.PHONY: all depends compile
